<svg xmlns="http://www.w3.org/2000/svg" width="1680" height="980" viewBox="0 0 1680 980" role="img" aria-labelledby="title desc">
  <title id="title">Pick-Pro Exec Level Architecture</title>
  <desc id="desc">High-level architecture, tech stack, and data flow for Pick-Pro tournament platform.</desc>

  <defs>
    <linearGradient id="bg" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#0b1220"/>
      <stop offset="100%" stop-color="#111827"/>
    </linearGradient>
    <marker id="arrowBlue" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#93c5fd"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#86efac"/>
    </marker>
    <style>
      .title { font: 700 34px Inter, Segoe UI, Roboto, Arial, sans-serif; fill: #f8fafc; }
      .subtitle { font: 500 15px Inter, Segoe UI, Roboto, Arial, sans-serif; fill: #cbd5e1; }
      .section { font: 700 20px Inter, Segoe UI, Roboto, Arial, sans-serif; fill: #e2e8f0; }
      .h { font: 700 16px Inter, Segoe UI, Roboto, Arial, sans-serif; fill: #f8fafc; }
      .b { font: 500 14px Inter, Segoe UI, Roboto, Arial, sans-serif; fill: #cbd5e1; }
      .small { font: 500 12px Inter, Segoe UI, Roboto, Arial, sans-serif; fill: #94a3b8; }
      .lineBlue { stroke: #93c5fd; stroke-width: 2.4; fill: none; marker-end: url(#arrowBlue); }
      .lineGreen { stroke: #86efac; stroke-width: 2.4; fill: none; marker-end: url(#arrowGreen); }
    </style>
  </defs>

  <rect x="0" y="0" width="1680" height="980" fill="url(#bg)"/>

  <text x="38" y="52" class="title">Pick-Pro Architecture (Exec Level)</text>
  <text x="38" y="78" class="subtitle">What runs today in production: responsive client, real-time scoring, resilient offline queue, and Firebase-backed tournament operations</text>

  <!-- Stack row -->
  <rect x="30" y="104" width="1620" height="110" rx="14" fill="#0f172a" stroke="#334155"/>
  <text x="52" y="133" class="section">Tech Stack</text>

  <rect x="52" y="146" width="190" height="46" rx="10" fill="#1e293b" stroke="#475569"/>
  <text x="70" y="175" class="b">React 19 + Vite 7</text>

  <rect x="258" y="146" width="190" height="46" rx="10" fill="#1e293b" stroke="#475569"/>
  <text x="278" y="175" class="b">Framer Motion UI</text>

  <rect x="464" y="146" width="220" height="46" rx="10" fill="#1e293b" stroke="#475569"/>
  <text x="486" y="175" class="b">Firebase Realtime DB</text>

  <rect x="700" y="146" width="200" height="46" rx="10" fill="#1e293b" stroke="#475569"/>
  <text x="720" y="175" class="b">Firebase Auth (Anon)</text>

  <rect x="916" y="146" width="190" height="46" rx="10" fill="#1e293b" stroke="#475569"/>
  <text x="940" y="175" class="b">PWA + Workbox</text>

  <rect x="1122" y="146" width="210" height="46" rx="10" fill="#1e293b" stroke="#475569"/>
  <text x="1144" y="175" class="b">Web Workers x2</text>

  <rect x="1348" y="146" width="282" height="46" rx="10" fill="#1e293b" stroke="#475569"/>
  <text x="1368" y="175" class="b">LocalForage offline event queue</text>

  <!-- Main architecture columns -->
  <rect x="30" y="238" width="740" height="650" rx="16" fill="#0f172a" stroke="#334155"/>
  <text x="52" y="270" class="section">Client Application (Browser)</text>

  <rect x="52" y="294" width="696" height="120" rx="12" fill="#1f2937" stroke="#475569"/>
  <text x="72" y="322" class="h">Tournament UX</text>
  <text x="72" y="346" class="b">Hub cards, tournament setup, live match scoring, standings, global rankings</text>
  <text x="72" y="368" class="b">No blocking loading screen; optimistic interactions for score actions</text>

  <rect x="52" y="430" width="330" height="190" rx="12" fill="#1f2937" stroke="#475569"/>
  <text x="72" y="458" class="h">Live Tournament Reads</text>
  <text x="72" y="482" class="b">Subscribes only to active tournament subpaths</text>
  <text x="72" y="504" class="small">`tournament_data/{id}/matches`</text>
  <text x="72" y="524" class="small">`tournament_data/{id}/knockouts`</text>
  <text x="72" y="544" class="small">`tournament_data/{id}/events`</text>
  <text x="72" y="564" class="small">`tournament_data/{id}/scoreSnapshot`</text>

  <rect x="418" y="430" width="330" height="190" rx="12" fill="#1f2937" stroke="#475569"/>
  <text x="438" y="458" class="h">Scoring Reliability</text>
  <text x="438" y="482" class="b">Event-sourced score writes + replay reducer</text>
  <text x="438" y="504" class="b">Offline queue retries pending score events</text>
  <text x="438" y="526" class="b">Compacts long logs into score snapshots</text>

  <rect x="52" y="640" width="696" height="104" rx="12" fill="#1f2937" stroke="#475569"/>
  <text x="72" y="668" class="h">Background Compute</text>
  <text x="72" y="692" class="b">Worker 1: Tournament generation   |   Worker 2: Standings + tie-break calculations</text>
  <text x="72" y="714" class="b">Keeps UI smooth during larger tournaments</text>

  <rect x="52" y="760" width="696" height="110" rx="12" fill="#1f2937" stroke="#475569"/>
  <text x="72" y="788" class="h">PWA Layer</text>
  <text x="72" y="812" class="b">Service worker registration + cached app shell assets</text>
  <text x="72" y="834" class="b">Supports resilient refresh / poor connectivity environments</text>

  <rect x="810" y="238" width="840" height="650" rx="16" fill="#0f172a" stroke="#334155"/>
  <text x="832" y="270" class="section">Firebase Platform</text>

  <rect x="832" y="294" width="796" height="102" rx="12" fill="#1f2937" stroke="#475569"/>
  <text x="852" y="322" class="h">Authentication</text>
  <text x="852" y="346" class="b">Anonymous sign-in provides per-device auth token for secure writes</text>
  <text x="852" y="368" class="small">Database rules enforce `auth != null` for mutation paths</text>

  <rect x="832" y="412" width="796" height="230" rx="12" fill="#1f2937" stroke="#475569"/>
  <text x="852" y="440" class="h">Realtime Database Data Domains</text>
  <text x="852" y="464" class="b">1) `tournaments_meta` : light hub metadata, player previews, status, winner</text>
  <text x="852" y="486" class="b">2) `tournament_data/{id}` : matches, knockouts, events, scoreSnapshot</text>
  <text x="852" y="508" class="b">3) `leaderboard_global` : aggregate stats across completed matches</text>
  <text x="852" y="530" class="b">4) `leaderboard_applied` : idempotency markers for aggregate updates</text>
  <text x="852" y="552" class="b">5) `roster` : shared player directory</text>
  <text x="852" y="576" class="small">Rules include validation and hot-path indexes (events by `ts`, leaderboard fields, meta fields)</text>

  <rect x="832" y="658" width="796" height="212" rx="12" fill="#1f2937" stroke="#475569"/>
  <text x="852" y="686" class="h">Key Data Flows</text>
  <text x="852" y="710" class="b">Live scoring: tap -> score event append -> replayed state update across clients</text>
  <text x="852" y="732" class="b">Match finalization: confirm -> aggregate delta -> global leaderboard refresh</text>
  <text x="852" y="754" class="b">Startup bootstrap: if leaderboard missing or outdated, rebuild from tournaments</text>
  <text x="852" y="776" class="b">Deletion cleanup: remove tournament and subtract its contribution from leaderboard</text>

  <!-- arrows -->
  <path d="M748 490 C 790 490, 790 505, 832 505" class="lineBlue"/>
  <text x="762" y="476" class="small">active tourney reads</text>

  <path d="M748 520 C 790 520, 790 560, 832 560" class="lineGreen"/>
  <text x="760" y="548" class="small">score events + updates</text>

  <path d="M748 680 C 790 680, 790 730, 832 730" class="lineBlue"/>
  <text x="760" y="714" class="small">leaderboard view feed</text>

  <path d="M1110 396 C 1110 360, 430 360, 430 414" class="lineBlue"/>
  <text x="740" y="350" class="small">metadata + auth context</text>

  <!-- Value summary -->
  <rect x="30" y="902" width="1620" height="58" rx="12" fill="#0f172a" stroke="#334155"/>
  <text x="52" y="937" class="b">Business outcome: real-time tournament operations with resilient scoring under unstable WiFi, while reducing broad fan-out reads by moving hub/rankings to lightweight projections.</text>
</svg>
